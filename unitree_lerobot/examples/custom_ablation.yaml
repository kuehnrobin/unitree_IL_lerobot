# Custom ablation study configuration
# This file defines a series of experiments to test different feature combinations and policy architectures

experiments:
  - name: "baseline_all_features"
    config: {}  # Use all available features and default ACT configuration
    
  - name: "no_joint_velocities_and_torques"
    config:
      use_joint_velocities: false
      use_joint_torques: false
      exclude_cameras: '["cam_left_head"]'
      
  - name: "no_active_cam"
    config:
      exclude_cameras: '["cam_left_active", "cam_right_active"]'
      exclude_joint_groups: '["camera"]'
            
  - name: "no_high_cams"
    config:
      exclude_cameras: '["cam_left_head", "cam_right_head"]'
      use_joint_velocities: false
      use_joint_torques: false
      
  - name: "active_cam_only"
    config:
      use_joint_velocities: false
      use_joint_torques: false
      use_pressure_sensors: false
      cameras: '["cam_left_active", "cam_right_active"]'
      
  - name: "no_pressure_high_cams"
    config:
      exclude_cameras: '["cam_left_high", "cam_right_high"]'
      use_pressure_sensors: false
      use_joint_velocities: false
      use_joint_torques: false

  # ===== ARCHITECTURE ABLATIONS =====
  # Test different vision backbones
  - name: "resnet34_backbone"
    config:
      vision_backbone: "resnet34"
      pretrained_backbone_weights: "ResNet34_Weights.IMAGENET1K_V1"
      
  - name: "dinov2_backbone"
    config:
      vision_backbone: "dinov2_vits14"
      pretrained_backbone_weights: null
      
  # Test different transformer architectures
  - name: "larger_transformer"
    config:
      dim_model: 768
      n_heads: 12
      dim_feedforward: 4096
      n_encoder_layers: 6
      n_decoder_layers: 3
      
  - name: "smaller_transformer"
    config:
      dim_model: 256
      n_heads: 4
      dim_feedforward: 1024
      n_encoder_layers: 2
      n_decoder_layers: 1
      
  # Test different action chunking configurations
  - name: "short_horizon"
    config:
      chunk_size: 50
      n_action_steps: 25
      temporal_ensemble_coeff: 0.01
      
  - name: "long_horizon"
    config:
      chunk_size: 200
      n_action_steps: 100
      
  # Test VAE configurations
  - name: "no_vae"
    config:
      use_vae: false
      
  - name: "larger_vae"
    config:
      use_vae: true
      latent_dim: 64
      n_vae_encoder_layers: 6
      kl_weight: 15.0
      
  # Test regularization
  - name: "high_dropout"
    config:
      dropout: 0.3
      
  - name: "low_learning_rate"
    config:
      optimizer_lr: 5e-6
      optimizer_lr_backbone: 1e-6
      
  # ===== COMBINED ABLATIONS =====
  # Combine feature selection with architecture changes
  - name: "active_cam_resnet34"
    config:
      cameras: '["cam_left_active", "cam_right_active"]'
      use_joint_velocities: false
      use_joint_torques: false
      vision_backbone: "resnet34"
      pretrained_backbone_weights: "ResNet34_Weights.IMAGENET1K_V1"
      
  - name: "minimal_features_robust_arch"
    config:
      cameras: '["cam_left_active", "cam_right_active"]'
      use_joint_velocities: false
      use_joint_torques: false
      use_pressure_sensors: false
      # Robust architecture compensating for fewer features
      dim_model: 768
      n_heads: 12
      n_encoder_layers: 6
      n_decoder_layers: 2
      dropout: 0.2
      latent_dim: 48
